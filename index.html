<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä½ æ˜¯å“ªç¨®å‹•ç‰©äººæ ¼ï¼Ÿ</title>
  <style>
    body {
      font-family: "Noto Sans TC", sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      width: 90%;
      max-width: 600px;
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      position: relative; /* ç‚ºäº†å³ä¸Šè§’åœ–ç‰‡å®šä½ */
      text-align: center; /* è®“å…§éƒ¨å…ƒç´ æ›´å®¹æ˜“ç½®ä¸­ */
    }
    /* === æ–°å¢é é¢é€šç”¨æ¨£å¼ === */
    .page {
        display: none; /* æ‰€æœ‰é é¢é è¨­éš±è— */
    }
    .page.active {
        display: block; /* é¡¯ç¤ºç•¶å‰é é¢ */
    }
    .page h1 {
        font-size: 2rem;
        margin-bottom: 2rem;
    }
    .page p {
        font-size: 1.2rem;
        margin-bottom: 2rem;
    }
    /* === å³ä¸Šè§’å°åœ– (ç¾åœ¨å°æ‰€æœ‰é é¢ç”Ÿæ•ˆ) === */
    #corner-img {
        position: absolute;
        top: 1.5rem;
        right: 1.5rem;
        width: 40px;
        height: auto;
        opacity: 0.8;
    }

    /* === æ¸¬é©—é é¢æ¨£å¼ === */
    .progress {
      height: 10px;
      background: #eee;
      border-radius: 5px;
      margin-bottom: 1rem;
      overflow: hidden;
    }
    .progress-bar {
      height: 100%;
      width: 0%;
      background: #87ceeb;
      transition: width 0.3s;
    }
    .question-img {
      max-width: 100%;
      height: auto;
      border-radius: 8px;
      margin-bottom: 1rem;
    }
    .question {
      font-size: 1.25rem;
      margin-bottom: 1rem;
    }
    .options button, .page button { /* è®“æ‰€æœ‰æŒ‰éˆ•é¢¨æ ¼çµ±ä¸€ */
      display: block;
      width: 100%;
      padding: 0.75rem;
      margin-bottom: 1rem;
      border: none;
      border-radius: 8px;
      background: #add8e6;
      cursor: pointer;
      transition: background 0.3s;
      font-size: 1rem;
    }
    .options button:hover, .page button:hover {
      background: #87ceeb;
    }
    /* === çµæœé é¢æ¨£å¼ === */
    .result {
      text-align: center;
    }
    .result img {
      max-width: 200px;
      height: auto;
      margin-top: 1rem;
    }
    /* === çµæœé æ–°å¢æ–‡å­—æ¨£å¼ === */
    #final-message {
        margin-top: 2rem;
    }
    #final-message p {
        font-size: 1rem;
        margin: 0.5rem 0;
    }
    #survey-link {
        text-decoration: none;
        color: #1e90ff; /* é€£çµé¡è‰² */
    }
    #survey-link-text {
        font-size: 1.5rem; /* æ”¾å¤§å­—é«” */
        font-weight: bold; /* åŠ ç²— */
        display: inline-block;
        margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <div class="container">

    <img id="corner-img" src="https://openclipart.org/download/219619/Red-Panda-2.svg" alt="å°å‹•ç‰©">

    <div id="consent-page" class="page active">
        <p>ä»¥ä¸‹ç‚ºç ”ç©¶ç‰ˆæœ¬</p>
        <button id="consent-btn">æˆ‘åŒæ„ä¸Šè¿°å…§å®¹ï¼Œé–‹å§‹é€²è¡ŒéŠæˆ²</button>
    </div>

    <div id="start-page" class="page">
        <h1>ä½ æ˜¯å“ªç¨®å‹•ç‰©?</h1>
        <button id="start-btn">é–‹å§‹éŠæˆ²</button>
    </div>

    <div id="quiz-page" class="page">
        <div class="progress"><div class="progress-bar" id="progress-bar"></div></div>
        <img id="q-img" class="question-img" src="" alt="é¡Œç›®åœ–ç‰‡"/>
        <div class="question" id="question">è¼‰å…¥ä¸­...</div>
        <div class="options" id="options"></div>
    </div>

    <div id="result-page" class="page result">
      <h2 id="result-text"></h2>
      <img id="result-img" src="" alt="çµæœåœ–ç‰‡"/>
      <div id="final-message">
        <p>è¬è¬æ‚¨çš„åƒèˆ‡</p>
        <a href="https://www.surveycake.com/s/G6O4Q" id="survey-link" target="_blank">
          <span id="survey-link-text">ç¾åœ¨è«‹å›åˆ°è¡¨å–®ä½œç­”</span>
        </a>
      </div>
    </div>

  </div>

  <script>
    const questions = [
      { q: "ä½ æ—©ä¸Šèµ·åºŠçš„ç¬¬ä¸€ä»¶äº‹æ˜¯ï¼Ÿ", options: ["è·³èµ·ä¾†é–‹å§‹ä¸€å¤©", "è³´åºŠå†èªª"] },
      { q: "é‡åˆ°æŒ‘æˆ°æ™‚ï¼Œä½ é€šå¸¸ï¼Ÿ", options: ["ä¸»å‹•è¿æˆ°", "å…ˆè§€å¯Ÿå½¢å‹¢"] },
      { q: "é€±æœ«æ™‚å…‰ä½ å–œæ­¡ï¼Ÿ", options: ["å‡ºé–€è·‘è¡Œç¨‹", "å®…åœ¨å®¶èˆ’æœ"] },
      { q: "ä½ èˆ‡æœ‹å‹äº’å‹•æ™‚æ˜¯ï¼Ÿ", options: ["ç†±æƒ…æ“æŠ±æ´¾", "é»˜é»˜é™ªä¼´å‹"] },
      { q: "ä½ æ›´å–œæ­¡çš„å·¥ä½œæ–¹å¼ï¼Ÿ", options: ["åœ˜éšŠåˆä½œ", "ç¨ç«‹ä½œæ¥­"] },
      { q: "é‡åˆ°å•é¡Œæ™‚ä½ æœƒï¼Ÿ", options: ["é¦¬ä¸Šå•äºº", "è‡ªå·±å…ˆç ”ç©¶"] },
      { q: "å‡å¦‚æœ‰é™Œç”Ÿäººæ¥è¿‘ä½ ï¼Ÿ", options: ["é¦¬ä¸Šæ‰“æ‹›å‘¼", "ä¿æŒè·é›¢"] },
      { q: "ä½ çš„èªªè©±é¢¨æ ¼æ˜¯ï¼Ÿ", options: ["ç›´ä¾†ç›´å¾€", "å«è“„å…§æ–‚"] },
      { q: "ä½ å‡ºé–€æ—…è¡Œæœƒï¼Ÿ", options: ["ç©åˆ°æ²’é›»", "æ‰¾åœ°æ–¹èººå¹³"] },
      { q: "ä½ å–œæ­¡æ€æ¨£çš„ç’°å¢ƒï¼Ÿ", options: ["ç†±é¬§å¤šè®Š", "å®‰éœç©©å®š"] },
    ];

    const resultDog = {
      text: "ä½ æ˜¯ ğŸ¶ ç‹—ç‹—å‹äººæ ¼ï¼šç†±æƒ…ä¸»å‹•ã€å¤–å‘æ´»æ½‘ï¼Œæ“…é•·å»ºç«‹äººéš›é—œä¿‚ï¼",
      // === å·²æ›´æ›ç‚ºæ–°çš„ç‹—ç‹—åœ–ç‰‡ ===
      img: "https://openclipart.org/download/340859/cute-cartoon-dog.svg"
    };
    const resultCat = {
      text: "ä½ æ˜¯ ğŸ± è²“å’ªå‹äººæ ¼ï¼šè§€å¯Ÿæ•éŠ³ã€ç¨ç«‹å®‰éœï¼Œæ“…é•·æ€è€ƒèˆ‡è¦åŠƒï¼",
      img: "https://openclipart.org/download/247319/Cute-Cartoon-Cat.svg"
    };

    let currentQuestionIndex = 0;
    let answers = [];

    // ç²å–æ‰€æœ‰é é¢å’ŒæŒ‰éˆ•çš„å…ƒç´ 
    const consentPage = document.getElementById('consent-page');
    const startPage = document.getElementById('start-page');
    const quizPage = document.getElementById('quiz-page');
    const resultPage = document.getElementById('result-page');

    const consentBtn = document.getElementById('consent-btn');
    const startBtn = document.getElementById('start-btn');

    const pb = document.getElementById('progress-bar'),
          qImg = document.getElementById('q-img'),
          qTxt = document.getElementById('question'),
          opts = document.getElementById('options'),
          resTxt = document.getElementById('result-text'),
          resImg = document.getElementById('result-img');

    // æµç¨‹æ§åˆ¶
    consentBtn.addEventListener('click', () => {
        consentPage.classList.remove('active');
        startPage.classList.add('active');
    });

    startBtn.addEventListener('click', () => {
        startPage.classList.remove('active');
        quizPage.classList.add('active');
        showQuestion(); // é–‹å§‹ç¬¬ä¸€é¡Œ
    });

    function showQuestion() {
      const progress = (currentQuestionIndex / questions.length) * 100;
      pb.style.width = `${progress}%`;
      qImg.src = "https://openclipart.org/image/400px/svg_to_png/250029/cute-dog-cat.png";
      qTxt.textContent = questions[currentQuestionIndex].q;
      opts.innerHTML = "";
      questions[currentQuestionIndex].options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = opt;
        btn.onclick = () => {
          answers.push(i); // 0 = åç‹—ç‹—ï¼Œ1 = åè²“å’ª
          currentQuestionIndex++;
          currentQuestionIndex < questions.length ? showQuestion() : showResult();
        };
        opts.appendChild(btn);
      });
    }

    function showResult() {
      quizPage.classList.remove('active');
      resultPage.classList.add('active');

      const sum = answers.reduce((a, b) => a + b, 0);
      const isCat = sum > questions.length / 2;
      const result = isCat ? resultCat : resultDog;

      resTxt.textContent = result.text;
      resImg.src = result.img;
    }

    // åˆå§‹ç‹€æ…‹ç”±CSSçš„ .active classæ§åˆ¶ï¼Œä¸éœ€JSè¨­å®š
  </script>
</body>
</html>